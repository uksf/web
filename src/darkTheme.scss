@use 'sass:map';
@use '@angular/material' as mat;
@use 'palettes' as *;

$dark-theme-background: (
    status-bar: black,
    footer-bar: black,
    side-bar: mat.m2-get-color-from-palette($dark-pallette, A100),
    app-bar: mat.m2-get-color-from-palette($dark-pallette, 500),
    app-bar-hover: mat.m2-get-color-from-palette($dark-pallette, 300),
    dark-bar: mat.m2-get-color-from-palette($dark-pallette, 800),
    background: mat.m2-get-color-from-palette($dark-pallette, default),
    hover: mat.m2-get-color-from-palette($dark-pallette, 100),
    150: mat.m2-get-color-from-palette($dark-pallette, 150),
    200: mat.m2-get-color-from-palette($dark-pallette, 200),
    300: mat.m2-get-color-from-palette($dark-pallette, 300),
    400: mat.m2-get-color-from-palette($dark-pallette, 400),
    450: mat.m2-get-color-from-palette($dark-pallette, 450),
    475: mat.m2-get-color-from-palette($dark-pallette, 475),
    500: mat.m2-get-color-from-palette($dark-pallette, 500),
    550: mat.m2-get-color-from-palette($dark-pallette, 550),
    600: mat.m2-get-color-from-palette($dark-pallette, 600),
    800: mat.m2-get-color-from-palette($dark-pallette, 800),
    selected: mat.m2-get-color-from-palette($dark-pallette, 400),
    card: mat.m2-get-color-from-palette($dark-pallette, 500),
    dark-card: mat.m2-get-color-from-palette($dark-pallette, 600),
    dialog: mat.m2-get-color-from-palette($dark-pallette, 500),
    disabled-button: mat.m2-get-color-from-palette($dark-pallette, 100),
    raised-button: mat.m2-get-color-from-palette($dark-pallette, 500),
    focused-button: mat.m2-get-color-from-palette($dark-pallette, 100),
    selected-button: mat.m2-get-color-from-palette($dark-pallette, 900),
    selected-disabled-button: mat.m2-get-color-from-palette($dark-pallette, 800),
    disabled-button-toggle: black,
    unselected-chip: mat.m2-get-color-from-palette($dark-pallette, 700),
    disabled-list-option: black,
    org-line: mat.m2-get-color-from-palette($dark-pallette, 100),
    org-content: mat.m2-get-color-from-palette($dark-pallette, 400),
    org-hover: mat.m2-get-color-from-palette($dark-pallette, 200),
    scroll-track: mat.m2-get-color-from-palette($dark-pallette, 500),
    scroll-thumb: mat.m2-get-color-from-palette($dark-pallette, 100),
    server: mat.m2-get-color-from-palette($dark-pallette, 500),
    server-running: mat.m2-get-color-from-palette($dark-pallette, 400),
    contrast: white,
    underline: hsla(0, 0%, 100%, 0.7)
);

$dark-theme-primary: $gold-pallette;
$dark-theme-accent: mat.m2-define-palette(mat.$m2-blue-palette, 900);
$dark-theme-warn: mat.m2-define-palette(mat.$m2-red-palette, 800);
$dark-theme: mat.m2-define-dark-theme((
    color: (
        primary: $dark-theme-primary,
        accent: $dark-theme-accent,
        warn: $dark-theme-warn,
    )
));

// Merge custom background palette keys into both top-level and nested color map
$background: map.get($dark-theme, background);
$background: map.merge($background, $dark-theme-background);
$dark-theme: map.merge(
    $dark-theme,
    (
        background: $background
    )
);
// Also patch the nested color.background so palette lookups work from either path
$color-map: map.get($dark-theme, color);
@if $color-map {
    $color-map: map.merge($color-map, (background: $background));
    $dark-theme: map.merge($dark-theme, (color: $color-map));
}
