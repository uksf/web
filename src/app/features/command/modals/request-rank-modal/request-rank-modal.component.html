<app-autofocus-stop></app-autofocus-stop>
<h2 mat-dialog-title>Promotion/Demotion Request</h2>
<mat-dialog-content>
    <form #form="ngForm" (ngSubmit)="submit()">
        <app-selection-list
            #accountList="ngModel"
            [(ngModel)]="model.accounts"
            (ngModelChange)="onSelectAccount()"
            [elementName]="'Recipient'"
            [elements]="accounts"
            [clearOnSelect]="true"
            [placeholder]="'Add recipient'"
            [listDisabledTooltip]="getAccountTooltip"
            id="accountList"
            name="formAccountList"
        >
            <ng-template #element let-element>
                {{ getAccountName(element) }}
            </ng-template>
        </app-selection-list>
        <app-dropdown
            #rank="ngModel"
            [(ngModel)]="model.rank"
            (ngModelChange)="onSelectRank()"
            [elementName]="'Rank'"
            [elements]="ranks"
            [isRequired]="true"
            [placeholder]="'Select new rank'"
            id="rank"
            name="formRank"
        >
            <ng-template #element let-element>
                {{ getRankName(element) }}
            </ng-template>
        </app-dropdown>
        <app-text-input label="Reason" [(ngModel)]="model.reason" name="formReason" id="reason"
            [multiline]="true" [minRows]="1" [maxRows]="5" [required]="true"
            [validationMessages]="validationMessages.reason">
        </app-text-input>
    </form>
</mat-dialog-content>
<mat-dialog-actions>
    <app-button (clicked)="submit()" [disabled]="!form.valid" [pending]="pending">Submit</app-button>
</mat-dialog-actions>
