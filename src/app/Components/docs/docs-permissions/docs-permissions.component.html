<mat-card class="permissions-container">
    <form #form="ngForm" class="permissions-form">
        <div class="permissions-header">
            <h4 class="permissions-title">{{ title }}</h4>
            <mat-checkbox *ngIf="hasInheritedPermissions" [(ngModel)]="model.inherit" (ngModelChange)="onInheritPermissionsChange()" color="primary" labelPosition="before" matTooltip="Permissions will be inherited from the parent folder when enabled. Disable this to set custom permissions" name="formInherit">
                Inherit from parent
            </mat-checkbox>
        </div>
        
        
        <mat-checkbox [(ngModel)]="model.expandToSubUnits" (ngModelChange)="onExpandToSubUnitsChange($event)" color="primary" matTooltip="When enabled, permissions will also apply to all sub-units of the selected units" [disabled]="model.inherit" name="formExpandToSubUnits">
            Expand to sub-units
        </mat-checkbox>
        <app-selection-list #unitsList="ngModel" (ngModelChange)="onSelectUnit($event)" [(ngModel)]="model.units" [clearOnSelect]="true" [elementName]="'Unit'" [elements]="units" [isRequired]="false" [placeholder]="'Select units'" [isDisabled]="model.inherit" id="unitList" name="formUnitList">
            <ng-template #element let-element>
                <span>{{ getUnitName(element) }}</span>
            </ng-template>
        </app-selection-list>
        <app-dropdown #rank="ngModel" (ngModelChange)="onSelectRank($event)" [(ngModel)]="model.rank" [elementName]="'Rank'" [elements]="ranks" [isRequired]="false" [placeholder]="'Select minimum rank'" [isDisabled]="model.inherit" id="rank" name="formRank">
            <ng-template #element let-element>
                <span>{{ getRankName(element) }}</span>
            </ng-template>
        </app-dropdown>
    </form>
</mat-card>
