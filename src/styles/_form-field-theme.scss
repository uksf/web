@use 'styles/theme-helpers' as th;

// Theme mixin for shared form-field components.
// $host-selector should match the component's element selector (e.g., 'app-text-input').
// Border color and style use CSS custom properties (--ff-border-color, --ff-border-style)
// to avoid specificity conflicts with Angular's emulated encapsulation.
@mixin form-field-theme($theme, $host-selector) {
    #{$host-selector} {
        --ff-border-color: #{th.fg-divider($theme)};

        .form-field-label {
            color: th.fg-secondary-text($theme);
        }

        .form-field input,
        .form-field textarea {
            color: th.fg-base($theme);

            &::placeholder {
                color: th.fg-hint-text($theme);
            }
        }

        .form-field-wrapper:hover:not(.form-field-disabled):not(.form-field-focused) {
            --ff-border-color: #{th.fg-base($theme)};
        }

        .form-field-focused {
            --ff-border-color: #{th.primary($theme)};
        }

        .form-field-focused .form-field-label {
            color: th.primary($theme);
        }

        // Must come after .form-field-focused so error color wins when both classes apply
        .form-field-has-error {
            --ff-border-color: #{th.warn($theme)};
        }

        .form-field-has-error .form-field-label {
            color: th.warn($theme);
        }

        .form-field-error {
            color: th.warn($theme);
        }

        .form-field-clear {
            color: th.fg-secondary-text($theme);
        }

        .form-field-disabled {
            --ff-border-color: #{th.fg-divider($theme)};
            --ff-border-style: dashed;
        }

        .form-field-disabled .form-field input,
        .form-field-disabled .form-field textarea {
            color: th.fg-disabled-text($theme);
        }
    }
}
